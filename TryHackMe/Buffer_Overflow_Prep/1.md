# OSCP Custom buffer overflow binary 1

[Setup](#Setup)

[Fuzzing](#fuzzing)

[Crash Replication & Controlling EIP](#eip)

[Finding Bad Characters](#finding-bad-characters)

[Finding A Jump Point](#finding-a-jump-point)

[Generating a Payload](#generating-a-payload)

[Prepend NOP sled](#prepend-nop-sled)

[Final Buffer](#final-buffer)

# Setup

## RDP into the server

`xfreerdp /u:admin /p:password /cert:ignore /v:10.10.45.178 /workarea`

#### Start Immunity as Administrator and opening OSCP.exe application

![image](https://user-images.githubusercontent.com/83407557/185183848-1f3678d6-e1d2-487e-82ae-eb7748c1dc9f.png)

##### Running program with F9 and checking that port 1337 is now listening

![image](https://user-images.githubusercontent.com/83407557/185185241-5fb4e4f0-b07f-4def-afba-989c619a9fe8.png)

#### Checking connection from Kali with netcat

![image](https://user-images.githubusercontent.com/83407557/185185855-06b70efc-22ff-4b2d-9112-217fbd5f7ff3.png)

#### Setting up mona

![image](https://user-images.githubusercontent.com/83407557/185186397-5bb76fca-a7ea-460f-bf31-56cd35cf8a11.png)


# Fuzzing

Taking the example Script from the readme, several things need to be modified in order to make a fuzz.py script for overflow1.

The ip and port need to be changed to the target's

fuzz.py
```python

```

Running this script against the server, I get 2000 bytes as the length of bytes that crash the app.

![image](https://user-images.githubusercontent.com/83407557/185191712-49087041-f882-45a9-91b3-0930fe1e0441.png)


I can also see the registers in immunity and verify that they are full of A's

![image](https://user-images.githubusercontent.com/83407557/185192020-6d1c2c1d-abbf-429f-970a-0d4aa7d1691c.png)

